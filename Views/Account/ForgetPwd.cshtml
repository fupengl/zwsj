@{
    ViewBag.Title = "找回密码";
    Layout = "~/Views/Shared/Master/_ZDBase.cshtml";
}

@section header{
  <link href="/Resource/assets/css/Register.css" rel="stylesheet" />
}

@section Content{
  <div class="content-wrapper">
    <div class="main-content-400 main-box boxShadow">
      <form class="form-horizontal form-default" data-bind="with: input">
        <div class="form-group">
          <h3>
            <img src="/Resource/assets/images/icon_reset_password.png" />重置密码<a class="pull-right" href="@Url.Action("LoginWeb", "Account")">点击返回登录页面</a>
          </h3>
        </div>
        <div class="form-group">
          <div class="input-group">
            <span class="input-group-addon">
              <img src="/Resource/assets/images/icon_input_phone.png" />
            </span>
            <input type="text" class="form-control has-focus" placeholder="请输入手机号码" data-bind="value: phone,event: { blur: phone.getValidate }" />
          </div>
          <p class="help-block">&nbsp;<span class="hidden" data-bind="css: { hidden: phone.validateSubmit }">请输入正确的手机号码</span></p>
        </div>

        <div class="form-group">
          <div class="row">
            <div class="col-sm-9 pull-left code-input">
              <div class="input-group">
                <span class="input-group-addon">
                  <img src="/Resource/assets/images/icon_input_verificationc_code.png" />
                </span>
                <input type="text" class="form-control has-focus" placeholder="请输入验证码" data-bind="value: code,event: { blur: code.getValidate }" />
              </div>
            </div>
            <div class="col-sm-3 get-code" data-bind="with: $parent.codeInfo">
              <button class="btn btn-primary btn-angle pull-right" type="button" data-bind="text: btnCodeText,attr: { 'disabled': disableCss },click: function(){ getCode(this) }">获取验证码</button>
            </div>
          </div>
          <p class="help-block">&nbsp;<span class="hidden" data-bind="css: { hidden: code.validateSubmit }">请输入验证码</span></p>
        </div>

        <div class="form-group">
          <div class="input-group">
            <span class="input-group-addon">
              <img src="/Resource/assets/images/icon_input_passwd.png" />
            </span>
            <input type="password" class="form-control has-focus" placeholder="请输入密码" data-bind="value: password,event: { blur: password.getValidate }" />
          </div>
          <p class="help-block">&nbsp;<span class="hidden" data-bind="css: { hidden: password.validateSubmit }">请输入密码</span></p>
        </div>

        <div class="form-group">
          <div class="input-group">
            <span class="input-group-addon">
              <img src="/Resource/assets/images/icon_input_passwd.png" />
            </span>
            <input type="password" class="form-control has-focus" placeholder="确认密码" data-bind="value: confirmPassword,event: { blur: confirmPassword.getValidate }" />
          </div>
          <p class="help-block">&nbsp;<span class="hidden" data-bind="css: { hidden: confirmPassword.validateSubmit }">密码不一致</span></p>
        </div>

        <button type="submit" class="btn btn-info btn-angle" data-bind="click: $parent.resetPassword">重置密码</button>
      </form>
    </div>
  </div>
}

@section Modal{
  @Html.Partial("Partial/_ActionModal")
}

@section Script{
  <script>
    require([path + 'ForgetPwd'], function (vm) {
      vm.initialize();
    });
  </script>
}